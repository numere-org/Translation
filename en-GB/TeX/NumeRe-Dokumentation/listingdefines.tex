\lstdefinelanguage{nscr}
{
	keywordsprefix=$,
	alsoletter={~\#},
	keywords=[2]{help,plot,mesh,copy,set,list,find,quit,load,show,stats,hist,fit,fitw,plot3d,dens,vect,vect3d,clear,surf,new,remove,rename,delete,smooth,resample,edit,random,start,define,redefine,ifndefined,undefine,if,elseif,else,endif,while,endwhile,for,endfor,continue,break,matop,zeroes,extrema,integrate,diff,taylor,eval,datagrid,fft,odesolve,procedure,endprocedure,explicit,private,inline,var,str,tab,return,namespace,throw,compose,endcompose,subplot,install,endinstall,uninstall,save},
	keywords={sin,cos,sqrt,avg,cmp,cnt,max,med,min,norm,num,prd,std,sum,to_char,sinc,to_value,to_cmd,valtostr,to_string,string_cast,matfc,zero,exp},
	sensitive=true
	morecomment=[l]{\#\#},
	morecomment=[s]{\#*}{*\#},
	string=[b]"
}
\newcommand\realnumberstyle[1]{\tiny}
\makeatletter
\newcommand{\zebra}[3]{%
    {\realnumberstyle{#3}}%
    \begingroup
    \lst@basicstyle
    \ifodd\value{lstnumber}%
        \color{#1}%
    \else
        \color{#2}%
    \fi
        \rlap{\hspace*{\lst@numbersep}%
        \color@block{\linewidth}{\ht\strutbox}{\dp\strutbox}%
        }%
    \endgroup
}
\makeatother

\definecolor{CommandStyle}{RGB}{0,128,255}
\definecolor{StringStyle}{RGB}{128,128,255}
\definecolor{BGColorTwo}{RGB}{245,245,245}
\definecolor{BGColorOne}{RGB}{230,230,230}
\definecolor{CommentStyle}{RGB}{0,128,0}
\lstset{
	language=nscr,
	basicstyle={\small\ttfamily},
	extendedchars=true,
	tabsize=4,
	columns=fixed,
	keepspaces=false,
	breaklines=true,
	showstringspaces=false,
	numbers=left, numberstyle=\tiny, stepnumber=2, numbersep=5pt,
	commentstyle=\color{CommentStyle},
	ndkeywordstyle={\color{CommandStyle}\bfseries\underbar},
	keywordstyle={\color{blue}\bfseries},
	stringstyle=\color{StringStyle},
	backgroundcolor=\color{BGColorTwo},
}

